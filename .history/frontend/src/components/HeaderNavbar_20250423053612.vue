<template>
  <header class="header">
    <div class="logo" @click="goToHome">
      <img src="@/assets/logo.png" alt="Mootod Logo" v-if="false" />
      <h1>Mootod <span>‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span></h1>
    </div>
    <div class="right-menu">
      <div class="cart-icon" @click="toggleCartEvent">
        <span>üõí</span>
        <span class="cart-badge" v-if="cartItemCount > 0">{{
          cartItemCount
        }}</span>
      </div>
      <button class="user-btn">
        <i class="user-icon">üë§</i>
        <span>‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</span>
      </button>
    </div>
  </header>
</template>

<script>
export default {
  name: "HeaderNavbar",
  props: {
    // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏à‡∏≤‡∏Å parent component
    cartItems: {
      type: Array,
      default: () => []
    }
  },
  computed: {
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (‡∏ô‡∏±‡∏ö‡∏£‡∏ß‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
    cartItemCount() {
      return this.cartItems.reduce((total, item) => total + (item.quantity || 1), 0);
    }
  },
  methods: {
    // ‡∏™‡πà‡∏á event ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
    toggleCartEvent() {
      this.$emit('toggle-cart');
    },
    // ‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
    goToHome() {
      this.$router.push('/');
    }
  }
};
</script>